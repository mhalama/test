<div class="hero-unit" xmlns="http://www.w3.org/1999/html">
    <form action="">
        <h1>Servis</h1>
        <input title="Search for" ng:model="searchTerm" ng:change="search(searchTerm)">
    </form>
</div>

<div class="row" ng:show="serviceState=='events'">
    <div>
        <form>
            <p>Creation date: {{issue.created}}</p>
            <p>Due date: <input ui-jq="datepicker" ng:model="issue.duedate"/></p>
            <p>Summary: <input type="text" ng:model="selectedIssue.summary"/></p>
            <p>Description: <input type="text" ng:model="selectedIssue.description"/></p>
            <span>
                Station:
            </span>
            <select ui-select2 ng:model="selectedIssue.station">
                <option ng:repeat="station in stations.data" value="{{station.id}}">{{station.station_name}}</option>
            </select>
            <span>
                Assignee:
            </span>
            <select ui-select2 ng:model="selectedIssue.assignee">
                <option ng:repeat="operator in operators.data" value="{{operator.id}}">{{operator.opname}}</option>
            </select>
            <input type="button" ng:click="saveData(selectedIssue)" value="Save"/>
            <input type="button" ng:click="cancelEdit()" value="Cancel"/>
        </form>

        <table>
            <thead>
            <tr>
                <th>Event from</th>
                <th>Note</th>
            </tr>
            </thead>
            <tbody>
            <tr ng:repeat="event in events">
                <td>{{event.eventfrom}}</td>
                <td>
                    <pre>{{event.note}}</pre>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="span12">
        <button ng:click="createNewIssue()">Nova servisni udalost</button>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Id</th>
                <th>Created</th>
                <th>Due date</th>
                <th>Summary</th>
                <th>Assignee</th>
                <th>Station</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr ng:repeat="issue in issues.data">
                <td>{{issue.id}}</td>
                <td>{{issue.created}}</td>
                <td>{{issue.duedate}}</td>
                <td>{{issue.summary}}</td>
                <td>{{issue.assignee_name_v}}</td>
                <td>{{issue.station_name_v}}</td>
                <td><a ng:click="edit(issue)">Edit</a> | <a ng:click="delete(issue)">Delete</a></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
